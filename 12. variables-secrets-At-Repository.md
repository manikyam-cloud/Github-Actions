Repository-level Secrets and Repository-level Variables

---

## Difference between Secrets and Variables

Secrets
Used for sensitive values (passwords, tokens, keys).
Automatically encrypted by GitHub.
Not visible in logs.
Cannot be printed directly.
Used through secrets.NAME.

Variables
Used for non-sensitive values (names, URLs, versions).
Visible in UI.
Not encrypted.
Can be printed in logs.
Used through vars.NAME.

---

## Where repository-level values are stored

They are stored in:
GitHub Repository
Settings
Secrets and variables
Two tabs will appear:
Secrets
Variables

Under Secrets, you have:
Actions
Dependabot
Codespaces

You will use:
Secrets â†’ Actions

Under Variables, you have:
Repository variables
These are plain values.

---

## How to Create Repository-Level Secrets

1. Open your GitHub repository
2. Click Settings (top menu)
3. Left side menu:
   Secrets and variables
4. Click Secrets
5. Click Actions
6. Click New repository secret

Add details:
Name: API_KEY
Value: abcd1234-secret-key

Click Add.

Now your secret is created as:
secrets.API_KEY

---

## How to Create Repository-Level Variables

1. Open your GitHub repository
2. Click Settings
3. Go to Secrets and variables
4. Click Variables
5. Click New variable

Add details:
Name: COMPANY
Value: KKFUNDA

Click Add.

Now your variable is:
vars.COMPANY

---

## How to Use Repository-Level Secrets in Workflow

Example:

```
steps:
  - name: Print secret example
    run: echo "Using secret..."
    env:
      KEY: ${{ secrets.API_KEY }}
```

Important
You cannot print secrets directly.
If you try:

echo $KEY

GitHub will mask it in logs.

---

## How to Use Repository-Level Variables in Workflow

Example:

```
steps:
  - name: Print variable
    run: echo "Company is ${{ vars.COMPANY }}"
```

Repository variables can be printed because they are not sensitive.

---

## Full Workflow Example (Secrets + Variables)

```
name: Repo Vars and Secrets Example

on:
  workflow_dispatch:

jobs:
  demo:
    runs-on: ubuntu-latest

    steps:
      - name: Show repository variable
        run: echo "Company is ${{ vars.COMPANY }}"

      - name: Use secret key
        env:
          KEY: ${{ secrets.API_KEY }}
        run: |
          echo "Secret key received"
          echo "$KEY"   # Will be masked in logs
```

Explanation
vars.COMPANY prints normally
secrets.API_KEY will be masked
KEY environment variable holds the secret value only during execution

---

## Why secrets cannot be printed

GitHub automatically replaces secret values with:

---

This is for protection.
Even if someone tries to echo secrets, it will be hidden.

---

## Common mistakes students make

Trying to print the secret
Trying to use $secrets.API_KEY instead of ${{ secrets.API_KEY }}
Using lowercase instead of uppercase
Creating secrets but forgetting to reference them
Copying secret name with spaces or typos
Not adding secrets inside correct repository

---

## File Example: Using secrets for private API call

```
steps:
  - name: Call API using token
    env:
      TOKEN: ${{ secrets.MY_TOKEN }}
    run: |
      curl -H "Authorization: Bearer $TOKEN" https://api.example.com/data
```

---

## File Example: Using repository variables for environment config

```
steps:
  - name: Print application settings
    run: |
      echo "Environment: ${{ vars.APP_ENV }}"
      echo "Region: ${{ vars.REGION }}"
      echo "Team: ${{ vars.TEAM_NAME }}"
```

---

## Practical Usage in Real DevOps

Secrets are commonly used for:
AWS keys
GitHub token
Docker registry password
Slack webhook
Database password
SSH private key
API tokens

Variables are commonly used for:
Application version
Company name
Environment name
Build folder names
Base URLs
Region names
Branch names

---

## One Line Summary

Repository-level secrets store sensitive values securely, while repository-level variables store non-sensitive values for general use. Both can be used in workflows with secrets.NAME and vars.NAME.
